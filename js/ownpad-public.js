(()=>{"use strict";var e={99498:(e,t)=>{t.generateUrl=void 0;const n=(e,t,n)=>{const o=Object.assign({escape:!0},n||{});return"/"!==e.charAt(0)&&(e="/"+e),r=(r=t||{})||{},e.replace(/{([^{}]*)}/g,(function(e,t){var n=r[t];return o.escape?"string"==typeof n||"number"==typeof n?encodeURIComponent(n.toString()):encodeURIComponent(e):"string"==typeof n||"number"==typeof n?n.toString():e}));var r};t.generateUrl=(e,t,o)=>{const i=Object.assign({noRewrite:!1},o||{});return!0!==window?.OC?.config?.modRewriteWorking||i.noRewrite?r()+"/index.php"+n(e,t,o):r()+n(e,t,o)};const o=(e,t,n)=>{const o=-1!==window?.OC?.coreApps?.indexOf(e);let i=r();return"php"!==n.substring(n.length-3)||o?"php"===n.substring(n.length-3)||o?(i+="settings"!==e&&"core"!==e&&"search"!==e||"ajax"!==t?"/":"/index.php/",o||(i+="apps/"),""!==e&&(i+=e+="/"),t&&(i+=t+"/"),i+=n):(i=window?.OC?.appswebroots?.[e],t&&(i+="/"+t+"/"),"/"!==i.substring(i.length-1)&&(i+="/"),i+=n):(i+="/index.php/apps/"+e,"index.php"!==n&&(i+="/",t&&(i+=encodeURI(t+"/")),i+=n)),i};const r=()=>window?.OC?.webroot||""}},t={};var n=function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(99498);const o=document.getElementById("isPublic"),r=document.getElementById("mimetype");window.addEventListener("DOMContentLoaded",(function(){if(o&&"1"===o.value&&(!r||"application/x-ownpad"!==r.value))return;const e=document.getElementById("files-public-content"),t=document.getElementById("sharingToken"),i=document.querySelector("body > footer")||document.querySelector("#app-content > footer"),s=document.querySelector("#content"),p=t.value,c=(0,n.generateUrl)("/apps/ownpad/public/{token}",{token:p}),a=document.createElement("iframe");a.style.height="100%",a.style.width="100%",a.style.position="absolute",e&&(e.innerHTML="",e.appendChild(a),a.src=c,i.style.display="none",s.style.minHeight="calc(100% - var(--header-height))",s.style.marginLeft="0",s.style.marginRight="0",s.style.width="100%",s.style.borderRadius="unset")}))})();
//# sourceMappingURL=ownpad-public.js.map?v=6e80197c2e5dbbba8bbf